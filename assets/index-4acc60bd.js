import{aC as b,aF as h,u as f,an as C,W as k,aN as i,H as w,aP as M,aM as g,bf as x,aO as O,bg as d,b as S,ae as m,d as E,l as P,bh as r,h as y,ak as T}from"./index-90b969ab.js";import{a as z}from"./scroll-def8f48a.js";const A=(e,s={})=>{b(e)||h("[useLockscreen]","You need to pass a ref param to this function");const t=s.ns||f("popup"),a=C(()=>t.bm("parent","hidden"));if(!k||i(document.body,a.value))return;let l=0,n=!1,o="0";const u=()=>{setTimeout(()=>{O(document==null?void 0:document.body,a.value),n&&document&&(document.body.style.width=o)},200)};w(e,c=>{if(!c){u();return}n=!i(document.body,a.value),n&&(o=document.body.style.width),l=z(t.namespace.value);const p=document.documentElement.clientHeight<document.body.scrollHeight,v=M(document.body,"overflowY");l>0&&(p||v==="scroll")&&n&&(document.body.style.width=`calc(100% - ${l}px)`),g(document.body,a.value)}),x(()=>u())},B=e=>{if(!e)return{onClick:d,onMousedown:d,onMouseup:d};let s=!1,t=!1;return{onClick:o=>{s&&t&&e(o),s=t=!1},onMousedown:o=>{s=o.target===o.currentTarget},onMouseup:o=>{t=o.target===o.currentTarget}}},H=S({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:m([String,Array,Object])},zIndex:{type:m([String,Number])}}),I={click:e=>e instanceof MouseEvent},L="overlay";var N=E({name:"ElOverlay",props:H,emits:I,setup(e,{slots:s,emit:t}){const a=f(L),l=c=>{t("click",c)},{onClick:n,onMousedown:o,onMouseup:u}=B(e.customMaskEvent?void 0:l);return()=>e.mask?P("div",{class:[a.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:n,onMousedown:o,onMouseup:u},[y(s,"default")],r.STYLE|r.CLASS|r.PROPS,["onClick","onMouseup","onMousedown"]):T("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[y(s,"default")])}});const F=N;export{F as E,B as a,A as u};
